<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8" />
  <title>Демо сайт из блоков</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div id="1_HEADER"></div>
  <div id="2_UIUX"></div>
  <div id="3_PRODUCT"></div>
  <div id="4_BRANDING"></div>
  <div id="5_GRAPHIC"></div>
  <div id="6_ARTDIRECTOR"></div>
  <div id="7_QUOTE"></div>
  <div id="8_ORDER"></div>
  <div id="9_SOCIALS"></div>
  <div id="10_PARTNERSHIP"></div>
  <div id="11_FOOTER"></div>

  <script type="module">
    const blocks = [
      '1_HEADER',
      '2_UIUX',
      '3_PRODUCT',
      '4_BRANDING',
      '5_GRAPHIC',
      '6_ARTDIRECTOR',
      '7_QUOTE',
      '8_ORDER',
      '9_SOCIALS',
      '10_PARTNERSHIP',
      '11_FOOTER'
    ];
    for (const id of blocks) {
      fetch(`${id}.html`)
        .then(res => res.text())
        .then(html => document.getElementById(id).innerHTML = html);
    }




    //ТУТ СКРИПТ ЧТЕНИЯ КАРТИНОК НА АРТДИР СЕКШН

    document.addEventListener('scroll', () => {
  const section = document.querySelector('.artdir-section');
  if (!section) return;

  const images = section.querySelectorAll('.artdir-image-box img');
  const rect = section.getBoundingClientRect();
  const vh = window.innerHeight;

  if (rect.bottom < 0 || rect.top > vh) return;

  let scrollProgress = (vh - rect.top) / (rect.height + vh);

  // Добавляем задержку старта — позже начнет меняться
  scrollProgress = Math.max(0, scrollProgress - 0.15);
  scrollProgress = Math.min(scrollProgress / 0.85, 1);

  const index = Math.min(Math.floor(scrollProgress * images.length), images.length - 1);

  images.forEach((img, i) => {
    img.classList.toggle('active', i === index);
  });
});

  </script>
</body>

</html>